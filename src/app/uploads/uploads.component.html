<form class="uploads-filters" [formGroup]="this.uploadFiltersForm" [attr.data-public]="!this.isAdministrator">
  <tui-input
    formControlName="name"
    tuiTextfieldIcon="tuiIconSearch"
    [tuiTextfieldSize]="'s'"
  >
    Название
  </tui-input>
  <spomen-extension-input [formGroup]="this.uploadFiltersForm" formControlName="ext" />
  @if (this.isAdministrator) {
    <spomen-account-input [formGroup]="this.uploadFiltersForm" formControlName="account" />
  }
  <button class="button uploads-filters__btn" (click)="this.showUploadFile()">
    <tui-svg src="tuiIconUpload"></tui-svg>
  </button>
</form>
<section class="uploads-list">
  @if (this.$uploads().length > 0) {
    <div @inOutGrid200>
      @for (upload of this.$uploads(); track $index) {
        <spomen-upload-list-item
          [isLoading]="false"
          [isPrivate]="this.isPrivate(upload.permissions)"
          [upload]="upload"
          (clickUpload)="this.showUploadInfo(upload.id)"
          (selectExtension)="this.setExtensionFilter(upload.ext)"
        />
      }
    </div>
  }

  @if (this.$uploadsLoading()) {
    <div @inOutGrid200>
      @for (row of this.skeletonRows; track $index) {
        <spomen-upload-list-item [isLoading]="true" />
      }
    </div>
  }
</section>

@if (this.$uploads().length === 0 && !this.$uploadsLoading()) {
  <section class="uploads__not-found">
    <spomen-not-found
      title="Файлы не найдены"
      [showRef]="false"
    ></spomen-not-found>
  </section>
}
